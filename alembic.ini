[alembic]

; Os scripts de migration estarão na pasta alembic dentro do diretório atual
script_location = alembic

; Adiciona o diretório atual ao sys.path para facilitar importações
prepend_sys_path = .

; Usa o separador de caminho do sistema operacional
path_separator = os

; Indica banco de dados SQLite
sqlalchemy.url = sqlite:///./backend/ecommerce.db

; Hooks executados após a escrita dos scripts de migration
[post_write_hooks]

; Definição dos componentes:

; Loggers configurados: root (geral), sqlalchemy, alembic
[loggers]
keys = root,sqlalchemy,alembic

; Handlers configurados: console
[handlers]
keys = console

; Formatadores configurados: generic
[formatters]
keys = generic

; Configuração dos loggers:

; logger principal com nível WARNING
; output para console
[logger_root]
level = WARNING
handlers = console
qualname =

; logger para SQLAlchemy com nível WARNING
; handlers vazios (nenhum output, usa configuração do root)
[logger_sqlalchemy]
level = WARNING
handlers =
qualname = sqlalchemy.engine

; logger para alembic com nível INFO (mais detalhado)
[logger_alembic]
level = INFO
handlers =
qualname = alembic

; Configuração dos handlers:
[handler_console] 
class = StreamHandler ; Handler de console que envia logs para stderr (terminal)
args = (sys.stderr,) ; usa saída de erro padrão
level = NOTSET ; herda nível do logger
formatter = generic ; usa formatador genérico

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S
; Formato do log: nível [nome do logger] mensagem, com 5 caracteres para o nível
; Nome do logger entre colchetes
; Mensagem principal do log
; Data e hora no formato horas:minutos:segundos
